[gd_scene format=3 uid="uid://cpo1xopshkwk2"]

[ext_resource type="PackedScene" uid="uid://fvrl7pis45kt" path="res://assets/environments/KualiBesar.glb" id="1_8my13"]
[ext_resource type="Texture2D" uid="uid://dbqv844na857o" path="res://assets/environments/KualiBesar_KualiBesar.png" id="2_xdmd3"]
[ext_resource type="Texture2D" uid="uid://d2p7qe4bs16bi" path="res://assets/environments/KualiBesar_Sendok.png" id="3_5dlnb"]
[ext_resource type="Shader" uid="uid://b63gqa11mqspr" path="res://scripts/shaders/kuali_besar.gdshader" id="4_xdmd3"]
[ext_resource type="Script" uid="uid://bcnjjexjnlb4" path="res://scripts/environments/TorchFlicker.cs" id="5_5dlnb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0hofp"]
cull_mode = 2
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("2_xdmd3")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5dlnb"]
radius = 3.034208
height = 6.965286

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lpeg6"]
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("3_5dlnb")

[sub_resource type="CylinderMesh" id="CylinderMesh_5dlnb"]
top_radius = 2.9
bottom_radius = 0.0
height = 0.001

[sub_resource type="FastNoiseLite" id="FastNoiseLite_0hofp"]
noise_type = 3
seed = 4
fractal_octaves = 3

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_5dlnb"]
noise = SubResource("FastNoiseLite_0hofp")
seamless = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lpeg6"]
render_priority = 0
shader = ExtResource("4_xdmd3")
shader_parameter/liquid_color = Color(0, 1, 0.2, 1)
shader_parameter/noise_img = SubResource("NoiseTexture2D_5dlnb")

[sub_resource type="Curve" id="Curve_wc6fm"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_5dlnb"]
curve = SubResource("Curve_wc6fm")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_hxkdp"]
emission_shape_scale = Vector3(2, 1, 2)
emission_shape = 6
emission_ring_axis = Vector3(0, 0, 1)
emission_ring_height = 1.0
emission_ring_radius = 1.0
emission_ring_inner_radius = 0.0
emission_ring_cone_angle = 90.0
spread = 62.613
initial_velocity_min = 1.0
initial_velocity_max = 1.0
gravity = Vector3(0, 3, 0)
scale_curve = SubResource("CurveTexture_5dlnb")
turbulence_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wc6fm"]
transparency = 1
emission_enabled = true
emission = Color(0.22349137, 0.9999998, 0.20155793, 1)

[sub_resource type="SphereMesh" id="SphereMesh_dt377"]
material = SubResource("StandardMaterial3D_wc6fm")
radius = 0.2
height = 0.4

[node name="KualiBesar" unique_id=898485889 instance=ExtResource("1_8my13")]

[node name="Cube_001" parent="." index="0" unique_id=1242631919]
surface_material_override/0 = SubResource("StandardMaterial3D_0hofp")

[node name="StaticBody3D" type="StaticBody3D" parent="Cube_001" index="0" unique_id=1620462989]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0.06074786, -0.4401847, -0.007930517)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Cube_001/StaticBody3D" index="0" unique_id=473341403]
visible = false
shape = SubResource("CapsuleShape3D_5dlnb")

[node name="Cube_004" parent="." index="1" unique_id=1180001184]
surface_material_override/0 = SubResource("StandardMaterial3D_lpeg6")

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="2" unique_id=635817006]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.407964, 0)
mesh = SubResource("CylinderMesh_5dlnb")
surface_material_override/0 = SubResource("ShaderMaterial_lpeg6")

[node name="GPUParticles3D" type="GPUParticles3D" parent="." index="3" unique_id=60500401]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.33786607, 0)
amount = 10
lifetime = 2.0
process_material = SubResource("ParticleProcessMaterial_hxkdp")
draw_pass_1 = SubResource("SphereMesh_dt377")

[node name="OmniLight3D" type="OmniLight3D" parent="." index="4" unique_id=1058343229]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.16715336, 1.1923093, 0)
light_color = Color(0.39793527, 0.83587086, 0.36598212, 1)
light_energy = 0.432
shadow_enabled = true
omni_range = 3.015
script = ExtResource("5_5dlnb")
